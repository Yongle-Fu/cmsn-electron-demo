appId: tech.brainco.crimson.demo
copyright: Copyright Â© 2021 BrainCo Tech
productName: Crimson-Demo

asar: true

directories:
  app: ./
  buildResources: resources
  output: release/${platform}/

publish:
  provider: generic
  url: http://focus.edu.brainco.cn/${os}

forceCodeSigning: false
# extraResources:
#   - from: "node_modules"
#     to: "node_modules"
#     filter:
#       - "electron-log/**/*"
#       - "ms/**/*"
#       - "moment/**/*"
#       - "debug/**/*" # for windows
#       - "cmsn-noble/**/*"
#       - "bindings/**/*"
#       - "napi-thread-safe-callback/**/*"
#       - "node-addon-api/**/*"
#       - "file-uri-to-path/**/*"
#       - "cmsn-nrf-ble-driver-js/**/*" # nRF dongle
#       - "cmsn-nrf-device-lister/**/*"
#       - "set-immediate-shim/**/*"
#       - "lie/**/*"
#       - "pako/**/*"
#       - "readable-stream/**/*"
#       - "usb/**/*"
#       - "await-semaphore/**/*"
#       - "commander/**/*"
#       - "serialport/**/*"
#       - "@serialport/**/*"
#       - "cmake-js/**/*"
#       - "*-case/**/*"
#       - "*-case-first/**/*"
#       - "underscore/**/*"
#       - "crc/**/*"
#       - "jszip/**/*"

# Config for OSX dmg
dmg:
  artifactName: '${name}-${version}.${ext}'
  contents:
    - type: link
      path: /Applications
      x: 410
      y: 150
    - type: file
      x: 130
      y: 150

# Mac OS configuration
mac:
  #target: [dmg, zip]
  icon: 'resources/icon.icns'
  target: default
  category: public.education.tools
  identity: null

# Config for the windows installer
nsis:
  oneClick: true
  allowElevation: true
  perMachine: true
  allowToChangeInstallationDirectory: false
  runAfterFinish: true
  menuCategory: 'CrimsonMenu'
  # include: "resources/installer.nsh"
  artifactName: '${name}-setup-${version}-${arch}.${ext}'

# Windows configuration
win:
  icon: 'resources/icon.ico'
  target: nsis
  publisherName: 'BrainCo'
  # certificateSubjectName: BrainCo, Inc.
  # timeStampServer: http://timestamp.digicert.com

# Linux configuration
linux:
  target:
    - deb
    - AppImage
  category: public.education.tools
  artifactName: '${name}-setup-${version}-${arch}.${ext}'
